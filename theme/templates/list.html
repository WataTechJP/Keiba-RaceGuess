<!-- prettier-ignore -->
{% extends 'base.html' %}

{% block title %}äºˆæƒ³ä¸€è¦§{% endblock %}

{% block content %}
<h1 class="text-2xl font-bold text-blue-600 mb-2">Myäºˆæƒ³</h1>
<h2 class="text-xl font-bold text-black mb-2">
  ã“ã“ã§ã¯ã€ã‚ãªãŸã®äºˆæƒ³ãŒç¢ºèªã§ãã¾ã™ã€‚
</h2>

{% if predictions %}
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
  {% for p in predictions %}
  <div class="bg-white border rounded-xl shadow-md p-4">
    <div class="flex justify-between items-center mb-2">
      <h2 class="text-lg font-semibold text-gray-800">{{ p.race.name }}</h2>
      <span class="text-sm text-gray-500">
        {{ p.created_at|date:"Yå¹´mæœˆdæ—¥ H:i" }}
      </span>
    </div>

    <ul class="text-sm text-gray-700 space-y-1 mb-4">
      <li>ğŸ¥‡ 1ç€ï¼š<strong>{{ p.first_position.name }}</strong></li>
      <li>ğŸ¥ˆ 2ç€ï¼š<strong>{{ p.second_position.name }}</strong></li>
      <li>ğŸ¥‰ 3ç€ï¼š<strong>{{ p.third_position.name }}</strong></li>
    </ul>

    {% if p.user == request.user %}
    <form
      action="{% url 'delete_prediction' p.pk %}"
      method="POST"
      onsubmit="return confirm('æœ¬å½“ã«å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ');"
    >
      {% csrf_token %}
      <button type="submit" class="text-sm text-red-500 hover:underline">
        ğŸ—‘ï¸ å–ã‚Šæ¶ˆã™
      </button>
    </form>
    {% endif %}
  </div>
  {% endfor %}
</div>
{% else %}
<p>ã¾ã äºˆæƒ³ãŒã‚ã‚Šã¾ã›ã‚“ã€‚</p>
{% endif %}

<a
  href="{% url 'submit_prediction' %}"
  class="inline-block bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mb-4 mt-4"
>
  ï¼‹ äºˆæƒ³ã‚’ä½œæˆ
</a>
{% endblock %}
